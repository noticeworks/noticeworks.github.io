!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.OdoScrollAnimation=e()}(this,function(){"use strict";var t=0;function e(){return"sa_"+(t+=1)}var n={_listeners:new Map,_targets:new Map,_getListenersForTarget:function(t){var e=[];return this._listeners.forEach(function(n){n.target===t&&e.push(n.fn)}),e},_getScrollPosition:function(t){var e,n=void 0,r=void 0;return(e=t)&&e.window&&e.document&&e.location&&e.alert&&e.setInterval?(n=window.pageYOffset,r=window.pageXOffset):(n=t.scrollTop,r=t.scrollLeft),{top:n,left:r}},_callListeners:function(t){for(var e=this._getScrollPosition(t),n=this._getListenersForTarget(t),r=0,i=n.length;r<i;r++)n[r](e.top,e.left);this._targets.set(t,null)},_handleTargetScrolled:function(t){var e=t.currentTarget;this._targets.get(e)&&cancelAnimationFrame(this._targets.get(e));var n=requestAnimationFrame(this._callListeners.bind(this,e));this._targets.set(e,n)},_register:function(t){t.addEventListener("scroll",this._onScroll,!1),this._targets.set(t,null)},_unregister:function(t){t.removeEventListener("scroll",this._onScroll,!1),this._targets.delete(t)},add:function(t,n){var r;if("function"==typeof t&&(n=t,t=window),(r=t)&&9===r.nodeType&&(t=window),!t||!t.addEventListener)throw new TypeError('OdoScrollAnimation: "'+t+'" is not an Element, Document, or Window');if("function"!=typeof n)throw new TypeError('OdoScrollAnimation: "'+n+'" is not a function');this._targets.has(t)||this._register(t);var i=e();return this._listeners.set(i,{target:t,fn:n}),i},remove:function(t){var e=this._listeners.get(t);e&&(1===this._getListenersForTarget(e.target).length&&this._unregister(e.target),this._listeners.delete(t))}};return n._onScroll=n._handleTargetScrolled.bind(n),n});
//# sourceMappingURL=odo-scroll-animation.min.js.map
